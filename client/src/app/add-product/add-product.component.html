<button *ngIf="editMode" mat-raised-button color="primary" class="add" (click)="nweProduct()"> Add New </button>
<br/>

<form name="addProductForm" [formGroup]="addProductForm">
    <h3 *ngIf="!editMode">Add New Product</h3>
    <h3 *ngIf="editMode">Edit Product</h3>
    <div>
        <mat-form-field class="full-width">
            <mat-label>Product Name</mat-label>
            <input type="text" formControlName="name" matInput required [(ngModel)]='addProductForm.value.name'>
            <mat-hint align="end"> 2-15 characters</mat-hint>
            <mat-error  *ngIf="name.invalid || name.hasError('required')">Product Name is invalid! *Mantatory field</mat-error>
        </mat-form-field>
    </div>
    
    <div>
        <mat-form-field class="full-width">
            <mat-label>Category</mat-label>
            <mat-select formControlName="category" [(value)]="addProductForm.value.category" required >
              <mat-option value="5fccefbd3920b7119804eafb">Fruits & Vegetables</mat-option>
              <mat-option value="5fccefd44e4a6660dc6a6c8e">Eggs & Dairy</mat-option>
              <mat-option value="5fccefe67dfe5252005a513d">Bread & Bakery</mat-option>
              <mat-option value="5fccf0013ab1f241b4f6702e">Snacks & Candy</mat-option>
              <mat-option value="5fccf0132895241abc08a7a8">Beverages</mat-option>
              <mat-option value="5fccf024e5ae544d94ec1fa2">Meat & Fish</mat-option>
              <mat-option value="5fccf03500966d07985595ca">Frozen</mat-option>
            </mat-select>
            <mat-error *ngIf="addProductForm.get('category').errors?.required">Requried category</mat-error>
        </mat-form-field>
    </div>
    
  

    <div>
        <mat-form-field class="full-width">
            <mat-label>Product Price</mat-label>
            <input formControlName="price"  matInput  required [(ngModel)]='addProductForm.value.price'>
            <mat-error  *ngIf="price.invalid || price.hasError('required') || price.hasError('pattern')">
                Product Price is invalid! *Mantatory field
            </mat-error>
            <!-- <mat-error  *ngIf="price.hasError('pattern') ">Numbers only</mat-error> -->
        </mat-form-field>
       
    </div>

    <div>
        <mat-form-field class="full-width">
            <mat-label>Price Option</mat-label>
            <input formControlName="priceOption" 
            type="text" 
            matInput 
            placeholder="kg/unit" 
            required 
            [(ngModel)]='addProductForm.value.priceOption'>
            <mat-error  *ngIf="priceOption.invalid || priceOption.hasError('required')">Product Price is invalid! *Mantatory field</mat-error>
            <mat-error  *ngIf="priceOption.hasError('maxlength') ">*Max length 10 characters</mat-error>
        </mat-form-field>
    </div>
    
    <div>
        <label for="picture">Choose product picture:</label>
        <br/>
        <input type="file" id="savePicture" accept="image/png, image/jpeg" (change)="fileChange($event)" />
        <br/>
        
    </div>

    <div>
        <mat-form-field class="full-width">
            <mat-label>Product Picture</mat-label>
            <input matInput  
            formControlName="picture"
            placeholder="img/aaa.jpg" 
            disabled
            required 
            [(ngModel)]='addProductForm.value.picture' /> 
            <mat-hint> Choose pic to fill product picture</mat-hint>
            <mat-error  *ngIf="picture.invalid || picture.hasError('required')">Product Price is invalid! *Mantatory field</mat-error>
        </mat-form-field>
        
    </div>
    

    <br/>
    <br/>

    <button mat-raised-button color="primary" (click)="onSave()" *ngIf="!editMode" [disabled]="addProductForm.invalid">Save</button>
    <button mat-raised-button color="warn" (click)="clearInputs()" >Clear All</button>
    <button mat-raised-button color="primary" (click)="onSaveEdit()" *ngIf="editMode" >Save Changes</button>

</form>



<!-- <form class="example-form">
    <h3 *ngIf="!editMode">Add New Product</h3>
    <h3 *ngIf="editMode">Edit Product</h3>
    <mat-form-field class="example-full-width">
      <mat-label>Product Name</mat-label>
      <input type="text" [(ngModel)]='product.name' [ngModelOptions]="{standalone: true}" matInput (keyup)="onChange($event, 'name')" >
      <mat-hint align="end"> only 15 </mat-hint>
    </mat-form-field>
    <br/>
    <mat-form-field >
        <mat-label>Category</mat-label>
        <mat-select [(value)]="product.category" >
          <mat-option value="5fccefbd3920b7119804eafb">Fruits & Vegetables</mat-option>
          <mat-option value="5fccefd44e4a6660dc6a6c8e">Eggs & Dairy</mat-option>
          <mat-option value="5fccefe67dfe5252005a513d">Bread & Bakery</mat-option>
          <mat-option value="5fccf0013ab1f241b4f6702e">Snacks & Candy</mat-option>
          <mat-option value="5fccf0132895241abc08a7a8">Beverages</mat-option>
          <mat-option value="5fccf024e5ae544d94ec1fa2">Meat & Fish</mat-option>
          <mat-option value="5fccf03500966d07985595ca">Frozen</mat-option>
        </mat-select>
    </mat-form-field>
    <br/>
    <mat-form-field class="example-full-width">
        <mat-label>Product Price</mat-label>
        <input type="number" matInput (keyup)="onChange($event, 'price')" [(ngModel)]='product.price' [ngModelOptions]="{standalone: true}">
    </mat-form-field>
    <mat-form-field class="example-full-width">
        <mat-label>Price Option</mat-label>
        <input type="text" matInput (keyup)="onChange($event, 'priceOption')" placeholder="kg/unit" [(ngModel)]='product.priceOption' [ngModelOptions]="{standalone: true}">
    </mat-form-field>
    <br/>
    <label for="picture">Choose product picture:</label>
    <br/>
    <input type="file" id="savePicture" accept="image/png, image/jpeg" (change)="fileChange($event)" >
    <br/>
    <mat-form-field class="example-full-width">
        <mat-label>Product Picture</mat-label>
        <input type="text" matInput 
        (keyup)="onChange($event, 'picture')"  
        [(ngModel)]='product.picture' 
        [ngModelOptions]="{standalone: true}"
        disabled> 
    </mat-form-field>
    <br/>
    <button mat-raised-button color="primary" (click)="onSave()" *ngIf="!editMode">Save</button>
    <button mat-raised-button color="primary" (click)="onSaveEdit()" *ngIf="editMode">Save Changes</button>

</form> -->
