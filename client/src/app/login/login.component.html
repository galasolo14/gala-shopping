<app-toolbar  [userName]="user" (userLogout)="removeUserInfo()"></app-toolbar>

<div class="loingDiv">
    <h1>Login Here</h1>
    <form (ngSubmit)="onClickLogin()" name="loginForm" [formGroup]="loginForm">
        
        <div>
            <mat-form-field class="full-width">
                <mat-label>Email</mat-label>
                <input formControlName="userEmail" matInput required placeholder="name@gmail.com" />
                <!-- <mat-error *ngIf="signupForm.get('email').errors?.required">Requried valid email address</mat-error> -->

                <mat-error  *ngIf="userEmail.hasError('required')">Email address is requried!</mat-error>
                <mat-error  *ngIf="userEmail.hasError('email') ">Email address is invalid!</mat-error>
            </mat-form-field>
        </div>

        <div>
            <mat-form-field class="full-width" >
                <mat-label>Password</mat-label>
                <input formControlName="password" matInput required [type]="hide ? 'password': 'text'" />
                <button mat-icon-button matSuffix (click)="hide = !hide"
                    [attr.aria-label]="'Hide Password'" [attr.aria-pressed]="hide">
                    <mat-icon>{{ hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-hint> Requried 1 letter, 1 number & min 4 characters </mat-hint>
                <!-- <mat-error *ngIf="signupForm.get('password').errors?.required">Requried Password</mat-error> -->
                <!-- <mat-error  *ngIf="password.hasError('required')">Password is requried!</mat-error> -->

                <mat-error  *ngIf="password.invalid || password.hasError('required')">Password is invalid! *Mantatory field</mat-error>
                <mat-error  *ngIf="password.hasError('minlength')">Min length 4 characters</mat-error>
                <mat-error  *ngIf="password.hasError('pattern') ">Requried 1 letter, 1 number</mat-error>
            </mat-form-field>
        </div>

        <br/>
        <br/>

        <button mat-raised-button color="primary" [disabled]="loginForm.invalid">Login</button>

    </form>

    <!-- <mat-form-field class="example-full-width">
        <mat-label>Email</mat-label>
        <input matInput required placeholder="aaa@gmail.com" type="text" (keyup)="nameType($event)" [(ngModel)]="userEmail">
    </mat-form-field>
    <br/>
    <mat-form-field class="example-full-width">
        <mat-label>Password</mat-label>
        <input matInput required type="text" (keyup)="passwordType($event)" [(ngModel)]="password">
        <mat-hint align="end"> Min 4 characters</mat-hint>
    </mat-form-field>
    <br/>
    <button mat-raised-button color="primary" (click)="onClickLogin()">Login</button> -->
    <br/>
    <button mat-raised-button color="link" (click)="onClickSignup()">Move to Sign Up</button>
</div>

<div class="loingDiv">
    <!-- <h1>GALA Shopping Site</h1> -->
    <img src="img/shopping.jpg" class="shoppingImg">
    <h2 class="siteInfoText"> Here you can order all the groceries you need </h2>
    <h2 class="siteInfoText">  without leaving your home</h2>   
    <h2 class="siteInfoText"> Items will be delivered directly to you </h2> 
    <h4 class="siteInfoText">  *We deliver only to the largest cities in Israel </h4>    
</div>

<div class="loingDiv">
    <h3>Available products in our store: {{totalProducts}} </h3>
    <h3>Number of orders submitted in our store: {{totalOrders}}</h3>
    <div class="yellow" *ngIf="userConected">
        <h1 class="yellow"> Welcome 
            <span *ngIf="user.isAdmin">Admin - </span>
            {{user.firstName}} 
        </h1>
        <div *ngIf="!newUser">
            <h3 class="yellow" *ngIf="cartOpen"> You have an open cart from {{cart_open_date}} </h3>
            <h3 class="yellow" *ngIf="orderDone"> Your last purchase was on {{lastOrder}}</h3>
        </div>
        <div *ngIf="newUser">
            <h3 class="yellow" > First Time Shopping :) Enjoy</h3>
        </div>
        <button *ngIf="!user.isAdmin && !cartOpen" mat-raised-button color="primary" (click)="onStart()">Start Shopping</button>
        <button *ngIf="cartOpen" mat-raised-button color="primary" (click)="onStart()">Continue Shopping</button>
    </div> 
</div>